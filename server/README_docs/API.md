# Stratospeer API Reference

### Overview

The Stratospeer API is used to help serve and manage Solvnt.io. The API server will be built using Postgres for the database, and Node.js + Express for hosting. The `sequelize` Node module will be used connect to Postgres via Node.js. 

### Request format

All requests will be sent in JSON format or URL encoding. All fields for each route listed "Routes Overview" section is required, except for <optional> ones. Some fields are either/or and is denoted with a forward slash (`/`).

### Response format

All responses will be in JSON format. All successful requests will be answered with a JSON containing `{"success": true}`. All failed requests will be answered with a JSON containing `{"success": false}` and the key `"error"` containing the reason (string) for the failed request.

## Database Schema

### Users

| **Property** | **Data Type** | **Description** |
|---|---|---|
| id **(primary)** | serial number | Automatically generated by Sequelize |
| username | string |  255 character limit |
| password | string | 255 character limit, hashed with Bcrypt |
| email | string | 255 character limit, checked for email format |
| first_name | string | 255 character limit |
| last_name | string | 255 character limit |
| active | boolean | Set to 'true' for active users, and 'false' for deleted users |
| createdAt | timestamp | Automatically generated by Sequelize |
| updatedAt | timestamp | Automatically generated by Sequelize |

### GitHubOAuth

| **Property** | **Data Type** | **Description** |
|---|---|---|
| id **(primary)** | serial number | Automatically generated by Sequelize |
| token | string | 255 character limit |
| user_id **(foreign)** | integer | Identify OAuth token with user |
| createdAt | timestamp | Automatically generated by Sequelize |
| updatedAt | timestamp | Automatically generated by Sequelize |

### GoogleDriveOAuth

| **Property** | **Data Type** | **Description** |
|---|---|---|
| id **(primary)** | serial number | Automatically generated by Sequelize |
| token | string | 255 character limit |
| user_id **(foreign)** | integer | Identify OAuth token with user |
| createdAt | timestamp | Automatically generated by Sequelize |
| updatedAt | timestamp | Automatically generated by Sequelize |

## Routes Overview

### User Data

Location data requests are obtained via the `/location` route.

| **HTTP Method** | **URL** | **Request** | **Action** |
|---|---|---|---|
| `POST` | `/user/login` | username/email, password | User authentication. |
| `POST` | `/user/new` | username, password, email, first\_name, last\_name | New user creation. |
| `PUT` | `/user/update` | username/email, password, \<newEmail\>, \<newPassword\>, \<first\_name\>, \<last\_name\> | User info update. |
| `DELETE` | `/user/delete` | username/email, password | User deletion. |
